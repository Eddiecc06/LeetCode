# 3397. Maximum Number of Distinct Elements After Operations
[Medium](https://leetcode.com/problems/maximum-number-of-distinct-elements-after-operations/description/)

## Problem Description

You are given an integer array nums and an integer k.

You are allowed to perform the following operation on each element of the array at most once:

  - Add an integer in the range [-k, k] to the element.

Return the maximum possible number of distinct elements in nums after performing the operations.

**Example 1**:
```
Input: nums = [1,2,2,3,3,4], k = 2
Output: 6
Explanation:
nums changes to [-1, 0, 1, 2, 3, 4] after performing operations on the first four elements.
```
**Example 2**:
```
Input: nums = [4,4,4,4], k = 1
Output: 3
Explanation:
By adding -1 to nums[0] and 1 to nums[1], nums changes to [3, 5, 4, 4].
```

**Constraints**
```
1 <= nums.length <= 10^5
1 <= nums[i] <= 10^9
0 <= k <= 10^9
```

## Solution

### _Related Topic_
   Array, Greedy, Sorting

### _C++ Code_
```cpp
class Solution {
public:
    int maxDistinctElements(vector<int>& nums, int k) {
        sort(nums.begin(), nums.end());
        //prev : The value of previous number
        int ans = 0, prev = INT_MIN, n = nums.size();
        
        for(int i = 0; i < n; ++i){
            //prev : The possible smallest value of current number with/without operation to get a disctinct value
            int cur = min( max(nums[i] - k, prev + 1), nums[i] + k);
            if(cur > prev)
                ++ans;
            prev = cur;
        }
        return ans;
    }
};
```

### _Complexity Anlysis_
- _Time Complexity_: O(nlogn)
- _Space Complexity_ï¼šO(1)
